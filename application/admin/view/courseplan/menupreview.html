<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<title>JunYuCMS网站管理系统后台</title>
<link rel="stylesheet" type="text/css" href="__PUBLIC__/css/bootstrap/bootstrap.min.css"/>
<link rel="stylesheet" type="text/css" href="__PUBLIC__/css/libs/font-awesome.css"/>
<link rel="stylesheet" type="text/css" href="__PUBLIC__/css/libs/nanoscroller.css"/>
<link rel="stylesheet" type="text/css" href="__PUBLIC__/css/common.css"/>
<!--<link rel="stylesheet" type="text/css" href="__PUBLIC__/css/qlx.css"/>-->
<!-- <link href='//fonts.googleapis.com/css?family=Open+Sans:400,600,700,300|Titillium+Web:200,300,400' rel='stylesheet' type='text/css'> -->
<link rel="stylesheet" type="text/css" href="__CSS__/style.css"/>
<script src="__PUBLIC__/js/jquery.js"></script>
	<script src="__PUBLIC__/js/jquery-1.8.3.min.js"></script>
	<script src="__PUBLIC__/js/html2canvas.js"></script>
<script type="text/javascript">
	var BASE_URL = "{:config('base_url')}"; //根目录地址
</script>
<!--[if lt IE 9]>
<script src="__PUBLIC__/js/html5shiv.js"></script>
<script src="__PUBLIC__/js/respond.min.js"></script>

<![endif]-->
{block name="style"}{/block}

</head>
<body>

<div style="width:80%;min-height:400px;background:#fff;margin:100px auto 0 auto;padding:12px;" id="con">
	<div style="text-align:center;font-size:16px;margin-bottom:12px;"><b>颐嘉学院{$selfClass.className}课表计划</b></div>
	<table class="table table-hover" border='1'>
		
		<thead>
			<tr>
				<th width="120">课表</th>
				<th width="120">星期一 <span id="monday">{$monday|date='Y-m-d',###}</span></th>
				<th width="120">星期二 <span id="tuesday">{$tuesday|date='Y-m-d',###}</span></th>
				<th width="120">星期三 <span id="wednesday">{$wednesday|date='Y-m-d',###}</span></th>
				<th width="120">星期四 <span id="thursday">{$thursday|date='Y-m-d',###}</span></th>
				<th width="120">星期五 <span id="friday">{$friday|date='Y-m-d',###}</span></th>
				<th width="120">星期六 <span id="saturday">{$saturday|date='Y-m-d',###}</span></th>
				<th width="120">星期日 <span id="sunday">{$sunday|date='Y-m-d',###}</span></th>
			</tr>
		</thead>
		<tbody>
			<tr style="height:100px;">
				<th width="120"><span class="form-control" style="border:0">8:30-10:00</span></th>
				<th width="120">
					<div  class="cookCon" data='1,1' id="data1_1"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='1,1' id="vdata1_1" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='1,2' id="data1_2"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='1,2' id="vdata1_2" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='1,3' id="data1_3"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='1,3' id="vdata1_3" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='1,4' id="data1_4"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='1,4' id="vdata1_4" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='1,5' id="data1_5"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='1,5' id="vdata1_5" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='1,6' id="data1_6"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='1,6' id="vdata1_6" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='1,7' id="data1_7"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='1,7' id="vdata1_7" class="cookVal" value=""></div>
				</th>
			</tr>
			<tr style="height:100px;">
				<th width="120"><span class="form-control" style="border:0">10:30-12:00</span></th>
				<th width="120">
					<div  class="cookCon" data='2,1' id="data2_1"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='2,1' id="vdata2_1" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='2,2' id="data2_2"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='2,2' id="vdata2_2" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='2,3' id="data2_3"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='2,3' id="vdata2_3" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='2,4' id="data2_4"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='2,4' id="vdata2_4" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='2,5' id="data2_5"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='2,5' id="vdata2_5" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='2,6' id="data2_6"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='2,6' id="vdata2_6" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='2,7' id="data2_7"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='2,7' id="vdata2_7" class="cookVal" value=""></div>
				</th>
			</tr>
			<tr style="height:100px;">
				<th width="120"><span class="form-control" style="border:0">14:00-15:30</span></th>
				<th width="120">
					<div  class="cookCon" data='3,1' id="data3_1"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='3,1' id="vdata3_1" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='3,2' id="data3_2"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='3,2' id="vdata3_2" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='3,3' id="data3_3"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='3,3' id="vdata3_3" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='3,4' id="data3_4"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='3,4' id="vdata3_4" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='3,5' id="data3_5"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='3,5' id="vdata3_5" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='3,6' id="data3_6"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='3,6' id="vdata3_6" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='3,7' id="data3_7"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='3,7' id="vdata3_7" class="cookVal" value=""></div>
				</th>
			</tr>
			<tr style="height:100px;">
				<th width="120"><span class="form-control" style="border:0">16:00-17:30</span></th>
				<th width="120">
					<div  class="cookCon" data='3,1' id="data3_1"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='3,1' id="vdata3_1" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='3,2' id="data3_2"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='3,2' id="vdata3_2" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='3,3' id="data3_3"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='3,3' id="vdata3_3" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='3,4' id="data3_4"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='3,4' id="vdata3_4" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='3,5' id="data3_5"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='3,5' id="vdata3_5" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='3,6' id="data3_6"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='3,6' id="vdata3_6" class="cookVal" value=""></div>
				</th>
				<th width="120">
					<div  class="cookCon" data='3,7' id="data3_7"><div class="detail" style="width:100%;float:left;"> </div> <input type="hidden" data='3,7' id="vdata3_7" class="cookVal" value=""></div>
				</th>
			</tr>
			
		</tbody>
	</table>
</div>

<div style="width:80%;margin:0 auto;padding:12px;">
	<a href='' class="btn btns btn-danger" style="width:auto;float:right;" onclick="javascript:history.back(-1);return false;">返回</a>
	<a id="images" class="btn btns" style="width:auto;float:right;" download="kebiao.png">下载生成图片</a>
	
</div>

<script>
$(function(){
	var cList = {$cList};
	console.log(cList);
	for(var i=0; i<cList.length;i++){
		$("#"+cList[i]['mark']).find('.detail').html(cList[i]['title']);
		$("#v"+cList[i]['mark']).val(cList[i]['id']);
	}

	var w = $("#con").width();  
	var h = $("#con").height();//要将 canvas 的宽高设置成容器宽高的 2 倍  
	var canvas = document.createElement("canvas");  
    canvas.width = w * 2;  
    canvas.height = h * 2;  
    canvas.style.width = w + "px";  
    canvas.style.height = h + "px";  
	var context = canvas.getContext("2d");//然后将画布缩放，将图像放大两倍画到画布上  
    context.scale(2,2);

	html2canvas($('#con'), {
	    allowTaint: true,
	    taintTest: false,
	    onrendered: function(canvas) {
			var image = canvas.toDataURL("image/png");  
			$('#images').attr('href',image);  
	    }
    });

})

</script>


<script src="__PUBLIC__/js/bootstrap.js"></script>
<script src="__PUBLIC__/js/jquery.nanoscroller.min.js"></script>
<script src="__PUBLIC__/js/pace.min.js"></script>

<script src="__PUBLIC__/js/hopscotch.js"></script>
<link rel="stylesheet" type="text/css" href="__PUBLIC__/css/libs/hopscotch.css">

<script src="__PUBLIC__/js/messager.js"></script>
<script src="__JS__/app.js"></script>
<script type="text/javascript">

{block name="script"}{/block}
</body>
</html>